<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2026-01-01">
<meta name="description" content="人生规划 1.0 - 关于自由、幸福和把握当下的思考">

<title>我想活出怎样的人生 – Umupa’s blog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<link href="../../favicon.svg" rel="icon" type="image/svg+xml">
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-6bd9cfa162949bde0a231f530c97869d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!-- Cloudflare Web Analytics (production only) -->
<script>
  // Only load Cloudflare Analytics in production, not on localhost
  if (window.location.hostname !== 'localhost' &&
      window.location.hostname !== '127.0.0.1' &&
      !window.location.hostname.startsWith('192.168.') &&
      !window.location.hostname.startsWith('10.') &&
      !window.location.hostname.startsWith('172.')) {
    document.write('<script defer src="https:\/\/static.cloudflareinsights.com\/beacon.min.js" data-cf-beacon=\'{"token": "eb43fd3c2c574a2590aae63c67009129"}\'><\/script>');
  }
</script>
<!-- End Cloudflare Web Analytics -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@5.4.4/dist/photoswipe.css">


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="我想活出怎样的人生 – Umupa’s blog">
<meta property="og:description" content="人生规划 1.0 - 关于自由、幸福和把握当下的思考">
<meta property="og:site_name" content="Umupa's blog">
<meta name="twitter:title" content="我想活出怎样的人生 – Umupa’s blog">
<meta name="twitter:description" content="人生规划 1.0 - 关于自由、幸福和把握当下的思考">
<meta name="twitter:card" content="summary">
</head>

<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
<!-- margin-sidebar -->

<!-- main -->
<main class="content column-page" id="quarto-document-content">
<header class="custom-header">
  <div class="site-title"><a href="../../">Umupa</a></div>
  <div class="header-subtitle-row">
    <p class="site-description">Thinking, Learning, and Building</p>
    <nav class="header-icons">
      <a href="../../index.xml" title="RSS" aria-label="RSS Feed">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg>
      </a>
      <a href="https://github.com/Umupa" title="GitHub" aria-label="GitHub" target="_blank" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>
      </a>
      <a href="https://t.me/" title="Telegram" aria-label="Telegram" target="_blank" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m22 2-7 20-4-9-9-4Z"></path><path d="M22 2 11 13"></path></svg>
      </a>
      <a href="https://twitter.com/" title="Twitter" aria-label="Twitter" target="_blank" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg>
      </a>
    </nav>
  </div>
  <nav class="header-nav">
    <ul>
      <li><a href="../../about.html">About</a></li>
      <li><a href="https://weekly.umupa.fun" target="_blank" rel="noopener">Weekly</a></li>
    </ul>
  </nav>
</header>

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">我想活出怎样的人生</h1>
  <div class="quarto-categories">
    <div class="quarto-category">生活</div>
    <div class="quarto-category">思考</div>
    <div class="quarto-category">人生规划</div>
  </div>
  </div>

<div>
  <div class="description">
    人生规划 1.0 - 关于自由、幸福和把握当下的思考
  </div>
</div>


<div class="quarto-title-meta column-page">


    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 1, 2026</p>
    </div>
  </div>


  </div>



</header>


<section id="我想活出怎样的人生" class="level1">
<h1>我想活出怎样的人生</h1>
<p>标题源于宫崎骏的长篇动画《你想活出怎样的人生》， 这个问题对于不同的人,抑或是同个人不同的人生阶段,都有不同的答案。</p>
<p>我今年25岁,大学毕业三年有余,仅记录我此阶段的想法。(为什么副标题是人生规划1.0,此后或许会有2.0、3.0、4.0….)</p>
<p>这个问题对于现在的我而言,答案是”自由”和”幸福”。 - 自由是什么?我对自由的定义是”想做什么就做的自由”以及”不想做什么就不去做的自由” - 我不想早出晚归的上班。虽然我认为每个人都需要一份工作,但工作不等于”上班”。 - 我不想处于”裁员”、“35 岁危机”的心理焦虑下 - 我不想工作到65岁才退休,为了想象中的明天牺牲今天(可能到我退休大概率不止 65,呜呼哀哉) - 我想趁着年轻环游世界 - 我想写自己想写的代码,想做一个自己想做的产品,不想做没有价值的”垃圾需求” - 我想沉浸式的玩很多自己想玩的游戏(今年碎片化式的游玩体验让我失去了玩游戏的乐趣,我认为当代的”电子阳痿”不是对游戏失去了热爱,而是为了”生存”而舍弃了”游戏”,我依旧喜欢玩游戏,喜欢游戏里刻画的人物、剧情以及带给我们的和现实不一样的”感动”,但是动辄上百小时的游戏,碎片化的游玩让我失去了沉浸感) - 我想照顾好自己和家人的身体 - 我想实现财富自由 - … - 每个人对幸福的理解都不同,并且随着年龄和认知的增长,对幸福的定义也会不断变化,探索自己对幸福的定义非常重要。我现在对于幸福的肤浅理解是”内心的平和”,不是靠外物,比如有些人会认为”只要我得到某个东西,比如升职加薪,财富自由,或者是买了房子车子,我就幸福了”,但是人类的欲望是无穷的,探索属于自己的内心平和很重要。</p>
<p>以前会觉得得过且过,每天混日子也挺好的,只要开心就行。但是细想这也是一种”逃避”的心态,怎么样才算”开心”,“什么样的人生才有意义”,我从来没有认真思考过这个问题。</p>
<p>今年开始思维有所转变,人类相对宇宙何其渺小,你难道不觉得生而为人何其幸运,在世短短几十年,活着的每一天都值得珍惜。</p>
<p>我们每个人都有义务和职责让自己过得更加幸福,给他人带来快乐和幸福,让生活多些笑声,给这个世界做一点点贡献,不枉此生。</p>
<blockquote class="blockquote">
<p>你生存在这个世界就是要使宇宙的神圣目标得以实现。你看,你是多么重要! – 《当下的力量》 - 埃克哈特·托利</p>
</blockquote>
</section>
<section id="财富自由是可习得的技能" class="level1">
<h1>财富自由是可习得的技能</h1>
<p>财富自由并不是一件羞于开口的事,每个普通打工人的终极目标都是实现财富自由。虽然有钱并不能让我幸福,但是客观上可以让我有”不想做什么就不去做”的自由和底气。</p>
<p>只靠打工是不可能实现财富自由的[doge]。普通人实现财富自由,有以下三种途径: - 用钱赚钱。比如投资、买股票、债券,本质是让企业帮你赚钱。 - 用劳动力赚钱。比如创业,开公司,本质是雇佣其他人帮你赚钱,门槛是最高的。 - 用知识+杠杆赚钱。这是新时代出现的,也是我们普通人最触手可及的。怎么理解呢?可以理解为写代码、写书、做视频、录播客,这种只需要一次”劳动”,但是可以成果实现快速复制的工作。</p>
<p>代码是其中成本最小的,只需要一台电脑即可。关键在于能提供什么独特的价值,利用它满足社会真实需求的切入点,再利用杠杆效应扩大规模。</p>
<p>方法论大家都懂,但如何找到”正确的方向”+ “利用杠杆效应”实现财富自由,这也是我现在所迷茫的,不展开。</p>
</section>
<section id="找到自己真正喜欢和擅长的事" class="level1">
<h1>找到自己真正喜欢和擅长的事</h1>
<p>为什么热爱很重要?</p>
<p>因为只有真正热爱某件事,才会投入无穷的精力和热情。你可以每天花几十个小时而不觉疲倦,你会把这当成你终身的事业而不是”工作”,这样你才能在这个领域做到”极致”,实现和其他人的”差距”。</p>
<p>如果你不知道自己热爱什么?不需要着急,这是正常的,要意识到”热爱”的事并不容易,大部分人的成长轨迹都是差不多的,上学忙着做题,上班忙着生存。有些人或许穷极一生都找不到,但是依旧可以过得很好。最重要的是要有这个认知和意识,从此刻开始,慢慢发现和寻找自己热爱的事,或许会花很长时间,需要保持耐心和判断力。</p>
<p>我热爱和擅长的事是什么? - 我喜欢技术。毋庸置疑,写有趣的代码会让我兴奋,写文章也是,此时虽然已经凌晨十二点,但是我的精神是亢奋的,这就是热爱的力量。 - 我热衷于开源和分享。自己的文章被点赞、开源项目被star、提的pr帮助了他人会让我开心。 - 我热爱折腾。沉迷构建自己的工作流、有段时间沉迷各种笔记工具、博客和RSS、喜欢折腾各种稀奇古怪的软件,做第一个吃螃蟹的人,对AI应用有热情和好奇心…</p>
</section>
<section id="从博客开始" class="level1">
<h1>从博客开始</h1>
<p>认真做博客的想法源于tw93大佬的分享: <a href="https://tw93.fun/2025-12-22/engineer.html">新一代工程师的破局和发展</a>,讲得非常好,推荐每位工程师朋友都花十分钟阅读一下。</p>
<blockquote class="blockquote">
<p>对于新一代工程师而言,软件曾经是武器,现在只是工具,品味将会是新的武器。</p>
</blockquote>
<p>无比赞同,AI时代,个人认为”写代码”的能力已经不再重要,现在的AI-Agent能力太强了(此博客和周刊都是用 Claude Code vibecoding的,我对前端一无所知)。即使是P7、P8级别的程序员,单纯写代码的能力,也是远远不如AI的,并且它还在不断的进化。</p>
<p>那么,AI时代,作为软件工程师,我们应该学习什么? - 底层技术。万变不离其宗,没有好的技术基底,很难评判AI写的代码是好是坏,现在有一种说法,有了AI就不需要程序员了,产品经理可以自己实现一个软件,我认为完全是扯淡,AI好比一把大狙,在高级程序员手里是AMP,对于一个不懂技术的人,就是烧火棍 - 解决问题的思路和能力:AI并不能帮助你解决任何问题,尤其是非技术问题 - 架构和前瞻性的设计:不展开,顶层设计应该由人来把控 - 产品化思维:写代码很容易,做一个好的产品很难 - 审美:好的品味是武器</p>
<p><strong>我为什么想做一个博客?</strong> - 对于独立开发者,这是最好的时代和机遇。以往需要一个团队才能完成的产品,现在都可以基于vibecoding 实现快速的 demo 验证。因此,我决定把博客做成自己的第一个产品,并非随心所欲,而是用心经营,严肃对待,给读者带来价值,做一个”有价值”的产品。 - 前段时间 v2ex 有个讨论。 <img src="https://static.umupa.fun/2026/01/dadcbb482b8c92f05c25adfb9f7ca472.jpg" class="img-fluid"> 我认为恰恰相反,现在充斥着大量 AI 生成的视频、新闻、音乐、推文。并非不好,这是时代的潮流,有市场也有需求。但我还是更喜欢阅读”人写”的博客,充满”活人感”的博客,真是奇妙的时代,“活人感”或许会成为未来的”稀缺资源”。所以,我的博客也会坚持这种活人感,每一篇文章每一个字都是由我自己敲出。 - 写博客能提升我的文笔和语言表达能力,记录我的成长路径和思维方式,也是其他人了解我的重要渠道。是的,这同样重要。 - 我想做的事有很多,想学更多有趣的技术、想记录 AI 是如何”统治”人类的、想学习投资、想记录生活……那就从博客开始,一点点把这些捋顺吧。</p>
<p><strong>此博客会包含什么内容?</strong> - 技术文章:技术栈不限,主要是后端和产品方向 - 不那么技术的文章,比如 - 我的AI工作流 - 我是如何使用claudecode的 - obsidian折腾之路 - vibecoding 之余我在做什么 - 好用的 mac 软件推荐 - 读书笔记 - 关于生活和我热爱的跑步 - 投资相关</p>
<p>此外,我还有一个周刊,命名为”Slime周刊(史莱姆周刊)“,每周一发布,可以把它当做我的朋友圈,会记录一些有趣的工具、有趣的文章以及随便谈谈环节。</p>
</section>
<section id="把握当下" class="level1">
<h1>把握当下</h1>
<p>我应该怎么做?把握当下即可。</p>
<p>最近读了《当下的力量》,有种相见恨晚的感觉,这本书解构式的阐明了”心流”状态。肤浅理解,此书想表达的核心思想有几个: - 大脑的思维是人类痛苦的原因。我们的大脑无法停止思考(你可以试试,闭上眼睛尝试让自己的大脑停止思考),这是一件很可怕的事情,我们没办法停止思维,而思维总是会回忆往昔,或是在幻想未来可能发生的事情。如果想象的未来比现在更好,它会给你希望,或让你愉悦地期待;如果它比现在更糟,会让你焦虑——其实这两者都是幻象,会给你带来”痛苦”。 - 我们应该如何从大脑的思维中解放。答案很简单,把握当下。因为它是唯一真正存在的东西。过去无法改变,未来最终也会以当下的形式出现。当你专注于当下的时候,你就完全是你自己的,不会被思维和情绪所困扰,但是当你的脑子里边全部充斥着过往和未来的时候,你就不是你自己。也就是说我们常说的”心流”状态。 - 如何进入”心流”状态?将注意力集中在你内心和身体的感受上,成为思维的观察者,并非停止思考,而是倾听,以一种更高的维度凌驾于思维之上,刻意观察,刻意练习,就能提升自己进入心流状态的次数和停留的时间。</p>
<blockquote class="blockquote">
<ul>
<li>从时间中解脱就是:从你在过去中寻找认同感的心理需要以及在未来寻找满足的心理需要中解放出来。</li>
<li>请检查一下你此刻的注意力在何处。你可能在听我说话,也可能是在读这本书,这就是你注意力集中的地方。或者,你在注意你周围的环境、其他的人等。而且,围绕着你所听到的、你所读到的,你也许会有一些思维活动——一些心理评论。你没有必要让这些东西吸引所有的注意力。看看你是否能在同时与你的内在身体相联结。请留一些注意力在你的内在,别让它溜走了。从你的内在感受你的身体,把它当作单一的能量场来感觉,就好像你在用你的整个身体倾听或阅读一样。请你在未来的几天或几周内练习这个方法。</li>
</ul>
</blockquote>
<p>虽然本文副标题是”人生规划 1.0”,但我深知再多的规划也没用,都是对未来的幻想,是大脑的思维在作祟,反而会把我一步步推向深渊。把握当下,进入”临在”,找到内心的力量。</p>
<p>寥寥几笔难言此书真意。不同的人也会有不同的理解和感悟,吾之蜜糖,彼之砒霜。有兴趣的朋友推荐看原书。</p>
</section>
<section id="结语" class="level1">
<h1>结语</h1>
<p>至此,本文章终于写完,虽然有很多想法,但是该如何文字表达出来是另外一回事,前后删删改改,花了大概六个小时。非常感激你阅读到此,如果此文章能给你带来一些价值和思考,我会非常开心。</p>
<p>写入 2026.01.01 凌晨。</p>


</section>

</main> <!-- /main -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    // === Listing page: format dates ===
    const dateElements = document.querySelectorAll('.quarto-post .listing-date');

    dateElements.forEach(function (el) {
      const text = el.textContent.trim();
      const date = new Date(text);

      if (!isNaN(date.getTime())) {
        const day = date.getDate().toString().padStart(2, '0');
        const month = date.toLocaleDateString('en-US', { month: 'short' });
        const year = date.getFullYear();

        el.innerHTML = `<span class="date-day">${day}</span><span class="date-month">${month} ${year}</span>`;
        el.classList.add('formatted-date');
      }
    });

    // === Article page: custom meta line ===
    const titleBlock = document.querySelector('#title-block-header');
    if (titleBlock && !document.querySelector('.quarto-listing')) {
      // Get categories
      const categoryEls = titleBlock.querySelectorAll('.quarto-category');
      const categories = Array.from(categoryEls).map(el => el.textContent.trim());

      // Get date and format as YYYY-MM-DD
      const dateEl = titleBlock.querySelector('.quarto-title-meta-contents p');
      let dateText = '';
      if (dateEl) {
        const date = new Date(dateEl.textContent.trim());
        if (!isNaN(date.getTime())) {
          const year = date.getFullYear();
          const month = (date.getMonth() + 1).toString().padStart(2, '0');
          const day = date.getDate().toString().padStart(2, '0');
          dateText = `${year}-${month}-${day}`;
        }
      }

      // Build custom meta line
      if (categories.length > 0 || dateText) {
        const metaDiv = document.createElement('div');
        metaDiv.className = 'article-meta';

        let html = '';
        if (categories.length > 0) {
          html += `<span class="meta-label">Categories:</span> <span class="meta-categories">${categories.join(', ')}</span>`;
        }
        if (categories.length > 0 && dateText) {
          html += `<span class="meta-separator">|</span>`;
        }
        if (dateText) {
          html += `<span class="meta-date">${dateText}</span>`;
        }

        metaDiv.innerHTML = html;

        // Insert after title
        const title = titleBlock.querySelector('h1.title');
        if (title) {
          title.insertAdjacentElement('afterend', metaDiv);
        }
      }
    }

    // === Code Copy Button ===
    initCodeCopyButtons();

    // Medium-Zoom 已替换为 PhotoSwipe，不再需要
  });

  // === Code Copy Button Function ===
  function initCodeCopyButtons() {
    // Find all code blocks
    const codeBlocks = document.querySelectorAll('article pre, article div.sourceCode');

    codeBlocks.forEach((block) => {
      // Skip if already has copy button
      if (block.querySelector('.code-copy-button')) return;

      // Get the pre element
      const pre = block.tagName === 'PRE' ? block : block.querySelector('pre');
      if (!pre) return;

      // Set relative positioning
      pre.style.position = 'relative';

      // Extract language info and set data-lang
      const code = pre.querySelector('code');
      if (code) {
        const classList = Array.from(code.classList);
        for (const cls of classList) {
          if (cls.startsWith('language-')) {
            const lang = cls.replace('language-', '');
            if (lang && lang !== 'undefined') {
              pre.setAttribute('data-lang', lang);
            }
            break;
          }
          // Quarto uses sourceCode class format
          if (cls.startsWith('sourceCode')) {
            continue;
          }
        }
        // Check for data-language attribute (Quarto format)
        const dataLang = code.getAttribute('data-language') || block.getAttribute('data-language');
        if (dataLang) {
          pre.setAttribute('data-lang', dataLang);
        }
      }

      // Create copy button
      const copyBtn = document.createElement('button');
      copyBtn.className = 'code-copy-button';
      copyBtn.textContent = 'Copy';
      copyBtn.type = 'button';

      // Copy functionality
      copyBtn.addEventListener('click', async () => {
        const codeText = pre.querySelector('code')?.innerText || pre.innerText;

        try {
          await navigator.clipboard.writeText(codeText);
          copyBtn.textContent = 'Copied!';
          copyBtn.classList.add('copied');

          setTimeout(() => {
            copyBtn.textContent = 'Copy';
            copyBtn.classList.remove('copied');
          }, 2000);
        } catch (err) {
          console.error('Failed to copy:', err);
          copyBtn.textContent = 'Failed';
          setTimeout(() => {
            copyBtn.textContent = 'Copy';
          }, 2000);
        }
      });

      pre.appendChild(copyBtn);
    });
  }
</script>

<style>
  /* Formatted date styles */
  .quarto-post .listing-date.formatted-date {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    text-align: center !important;
    line-height: 1 !important;
  }

  .quarto-post .listing-date .date-day {
    display: block !important;
    font-size: 3rem !important;
    font-weight: 600 !important;
    line-height: 1 !important;
    color: var(--text-color) !important;
  }

  .quarto-post .listing-date .date-month {
    display: block !important;
    font-size: 0.875rem !important;
    color: var(--text-muted) !important;
    margin-top: 0.25rem !important;
  }
</style>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button,
        { trigger: "manual",
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/umupa\.fun");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config);
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined;
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            }
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          }
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="umupa/blog" data-repo-id="R_kgDONyPU6Q" data-category="Announcements" data-category-id="DIC_kwDONyPU6c4C0UA1" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="fro" data-lang="zh-CN" crossorigin="anonymous" data-loading="lazy" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="catppuccin_latte">
<input type="hidden" id="giscus-alt-theme" value="catppuccin_latte">
</div> <!-- /content -->
<script type="module">
  import PhotoSwipeLightbox from 'https://cdn.jsdelivr.net/npm/photoswipe@5.4.4/dist/photoswipe-lightbox.esm.min.js';

  // 等待图片加载完成
  window.addEventListener('load', () => {
    console.log('[PhotoSwipe] 开始初始化...');

    // 查找所有文章中的图片（排除已包装和禁用的）
    const images = document.querySelectorAll('#quarto-document-content img.figure-img:not([no-pswp]), #quarto-document-content img.img-fluid:not([no-pswp]), main.content img:not([no-pswp])');
    console.log('[PhotoSwipe] 找到图片:', images.length);

    images.forEach(img => {
      // 跳过已包装的图片
      if (img.closest('a[data-pswp-width]')) {
        return;
      }

      // 获取图片实际尺寸
      const width = img.getAttribute('width') || img.naturalWidth || 1920;
      const height = img.getAttribute('height') || img.naturalHeight || 1080;
      const src = img.getAttribute('src');

      // 创建 PhotoSwipe 链接
      const link = document.createElement('a');
      link.href = src;
      link.setAttribute('data-pswp-width', width);
      link.setAttribute('data-pswp-height', height);
      link.setAttribute('target', '_blank');
      link.style.cursor = 'zoom-in';

      // 包装图片
      img.parentNode.insertBefore(link, img);
      link.appendChild(img);
    });

    // 统计包装后的图片
    const wrappedImages = document.querySelectorAll('a[data-pswp-width]');
    console.log('[PhotoSwipe] 包装完成:', wrappedImages.length);

    // 初始化 PhotoSwipe
    const lightbox = new PhotoSwipeLightbox({
      gallery: '#quarto-document-content',
      children: 'a[data-pswp-width]',
      pswpModule: () => import('https://cdn.jsdelivr.net/npm/photoswipe@5.4.4/dist/photoswipe.esm.min.js'),

      // 预加载
      preload: [1, 2],

      // 缩放级别
      initialZoomLevel: 'fit',
      secondaryZoomLevel: 2.5,
      maxZoomLevel: 4,

      // 动画
      showHideAnimationType: 'zoom',

      // 交互
      bgClickAction: 'close',
      tapAction: 'toggle-controls',
      doubleTapAction: 'zoom',
      pinchToClose: true,

      // 控制栏
      zoom: true,
      close: true,
      counter: true,

      // 键盘
      escKey: true,
      arrowKeys: true
    });

    lightbox.on('uiRegister', function() {
      console.log('[PhotoSwipe] UI 注册完成');
    });

    lightbox.on('beforeOpen', function() {
      const items = lightbox.pswp.options.dataSource;
      console.log('[PhotoSwipe] 打开画廊，共', items.length || '?', '张图片');
    });

    lightbox.init();
    console.log('[PhotoSwipe] 初始化完成');
  });
</script>




</body></html>
<script>window.backupDefine = window.define; window.define = undefined;</script>
<script type="text/javascript" src="quarto-preview.js"></script>
<script>window.define = window.backupDefine; window.backupDefine = undefined;</script>
<script type="text/javascript">
  const options = {
    origin: "",
    search: "",
    inputFile: "/Users/lalaorya/learnspace/blog/posts/how-to-live-my-life/index.qmd",
    isPresentation: false
  }
  document.addEventListener("DOMContentLoaded", function () {
    window.QuartoPreview.init(options);
  });
</script>
