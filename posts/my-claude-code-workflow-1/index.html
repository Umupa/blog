<!DOCTYPE html><html lang="zh-CN"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="color-scheme" content="light"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="preload" href="/fonts/TsangerJinKai02-W04.woff2" as="font" type="font/woff2" crossorigin><title>我是如何使用 ClaudeCode 进行编程的 – Umupa's blog</title><meta name="description" content="分享近期摸索出来的 Claude Code 编程工作流实践，计划与执行分离，让 AI 一次做对"><link rel="stylesheet" href="/_astro/_slug_.DJ0vL31e.css">
<link rel="stylesheet" href="/_astro/_slug_.DZtiUJgO.css"></head> <body> <header class="site-header container"> <h1 class="site-title"> <a href="/">Umupa's blog</a> </h1> <div class="header-subtitle-row"> <p class="site-description">Thinking, Building & Linking</p> <div class="header-icons"> <a href="https://github.com/Umupa" target="_blank" rel="noopener" aria-label="GitHub"> <svg viewBox="0 0 24 24" fill="currentColor"> <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path> </svg> </a> </div> </div> <nav class="header-nav"> <ul> <li><a href="/about">About</a></li> <li><a href="/">Blog</a></li> <li><a href="/books">Books</a></li> <li><a href="https://weekly.umupa.fun" target="_blank" rel="noopener">Weekly</a></li> </ul> </nav> </header> <main class="container"> <div class="article-header"> <h1 class="article-title">我是如何使用 ClaudeCode 进行编程的</h1> <div class="article-meta">  <span class="meta-label">Categories:</span>  <span class="meta-categories">AI</span> <span class="meta-separator">|</span>  <span class="meta-date">2026/01/11</span> </div> </div> <article class="markdown-body heti" id="write">  <p>使用 ClaudeCode 进行编码已经很久了，体验了 Claude 从 mcp、skill 再到 plugin 一步步以来的进化。近期才算探索出了一套效果不错的工作流，分享给大家。
<img src="https://static.umupa.fun/2026/01/8b8681506bc4f2fd57143ea99371c507.jpg" alt=""></p>
<h1 id="工具集toolset">工具集（TOOLSET）</h1>
<p>我使用的工具有 kitty、Zed 以及 Claudecode。</p>
<p><strong>我在 kitty 中运行 ClaudeCode</strong></p>
<p><img src="https://static.umupa.fun/2026/01/3fe564e0ccba04efc1c9e982eb3287a4.jpg" alt=""></p>
<p>为什么选择 kitty 而不是直接在 IDE 中运行 terminal、或者使用 VSCode 插件。两个原因：</p>
<ol>
<li><a href="https://sw.kovidgoyal.net/kitty/">kitty</a> 是一个轻量级的终端，体验丝滑。由于终端无法随时编辑文件，相比 IDE 更能让我把注意力集中在与 「ClaudeCode」的对话上。事实上，我很少主动 coding，只进行 code review，所有的编码工作交给 Claude</li>
<li>我相信你一定遇到过这样的场景：满怀信心地把任务交给 Claude，心想”这下可以去喝杯咖啡了”，切屏开始处理其他工作。十分钟后切回来，满心期待地想看看成果，结果发现 Claude 正在屏幕那头静静等你回来点个”确认授权”，血压直接就上来了😡。
Kitty 可以解决这个问题，它支持系统通知，当 Claude Code 需要授权时，Mac 右上角会自动弹出提醒，再搭配 <a href="https://github.com/djyde/ccmate">ccmate</a>，还能实时看到 Claude 正在调用什么 tool、任务是否完成。效果如下：
<img src="https://static.umupa.fun/2026/01/b48dc0779520862650893f25c6a14653.jpg" alt="">
<img src="https://static.umupa.fun/2026/01/5a33dd17a0986ce1ad0f331102b94ed6.jpg" alt=""></li>
</ol>
<hr>
<p><strong>我使用 superpowers 插件来提升编程效率和准确率</strong></p>
<p>当使用 AI 进行辅助编程时，或多或少会遇到这些问题：</p>
<ul>
<li>代码质量差：说得有理有据，写出来的代码完全不能运行，甚至存在编译错误</li>
<li>需求理解偏差：需求理解错误，和我想实现的功能对不上</li>
<li>设计缺失：急于动手，数据结构、API 设计不优雅，缺乏整体架构思考，代码逐渐变成屎山</li>
<li>…</li>
</ul>
<p>我们常常需要<strong>花费大量的时间和 AI 进行多轮对话</strong>，才能让它写出想要的代码。效率非常低下，还会加深我们的心智负担。</p>
<p><strong>「AI 似乎总是不能一次做对」</strong></p>
<p><a href="https://github.com/obra/superpowers">superpowers</a> 正是为了解决这个问题，它的核心理念是：先思考，再动手。当你提出一个需求，它不会急于写代码，而是先退一步问你”你真正想要实现什么”，通过对话梳理出完整的设计方案，再分步执行。</p>
<p>目前高强度使用了两周，非常好用，让我回到了第一次使用 ClaudeCode 时的惊艳感！作为一个 plugin，Github 有 16k 的 star，足以证明它的实力。
<img src="https://static.umupa.fun/2026/01/461b4d35f776fbcac3a09a37a2eadd46.jpg" alt="">
下面简单介绍下，superpower 是一套完整的 AI 编程工作流，本质上封装了多个“Skill”和“command”，内置 20+ 个设计得非常优雅的软件开发领域的 Skills，它的工作流围绕两个核心命令：</p>
<ol>
<li><strong>/brainstorming - 脑暴阶段</strong>: 和你反复确认需求细节、技术选型、方案权衡，最终输出设计文档和详细执行计划。这个执行计划非常非常的详细，会拆分为多个 task，每个 task 细分为多个 step，每个 step 会写明代码实现、验证步骤等</li>
<li><strong>/execute-plan - 执行阶段</strong>: 根据计划逐步实现，每完成一步都会验证结果，确保不会跑偏</li>
</ol>
<p>此外还内置了 TDD（测试驱动开发）、系统化调试、代码审查等专业 Skills，强调 YAGNI（不做过度设计）和 DRY（避免重复代码）原则。</p>
<p>如果你还没有使用，我建议你马上安装这个插件，肯定会让你感到惊艳。</p>
<hr>
<p><strong>我使用 Zed 来串联我的工作流</strong></p>
<p><a href="https://zed.dev/">zed</a> 是一个编辑器，类似 vscode/cursor，但是它速度更快，原生支持 ACP、Zed Agent、LSP、自定义大模型 Provider等。具体可以看 zed 官网介绍，不展开。
我在 zed 中进行：</p>
<ul>
<li>原始需求录入</li>
<li>代码 review（同时基于zed-agent进行代码理解，辅助我review）</li>
<li>改进项录入</li>
</ul>
<p>工作流中会详细描述我是如何「串联」这些流程的。以下是我的 zed 编辑器界面，分成三个区域，zed-agent，code-review 和 fileTree（我习惯把项目文件放在右侧，Agent 放在左侧，和 cursor 的 Agent 模式一样）。
<img src="https://static.umupa.fun/2026/01/ef798a17095f22c2d3461fc906e54b11.jpg" alt=""></p>
<h1 id="工作流workflow">工作流（WORKFLOW）</h1>
<p>我的工作流是一个围绕 <em>superpowers</em> 的 <strong>Loop</strong>，核心思想是 <strong>master</strong> 和 <strong>worker</strong> 分离：</p>
<ul>
<li><strong>脑暴会话 (master)</strong>：专注于思考和设计，输出高质量的设计文档和执行计划</li>
<li><strong>执行会话 (worker)</strong>：专注于代码实现，执行详细的计划</li>
</ul>
<p><img src="https://static.umupa.fun/2026/01/d34de1cbbb415510bc9809c8df730519.jpg" alt=""></p>
<p>1、<strong>需求录入</strong> - 首先我会在 Zed 上进行需求录入，采用 md 格式。这一步非常重要，我大概有 30% 的时间花在需求录入上，我会把能想到的关于此需求的背景、最终目标、可行的技术方案、风险点、外部 API 文档等等一切资源，都在需求文档中说明。对于需求文档，我不会太在意格式，会有比较多口语化的表达。</p>
<p>2、<strong>脑暴阶段</strong> - 把需求 MD 喂给 Claude，调用 <code>/superpowers:brainstorm</code> 和 claude 进行思维碰撞。这个阶段不写任何代码，只讨论设计方案和实现细节，最终输出 <code>design.md</code> 和 <code>implement.md</code>，保证最终的实现方案是完美符合我的预期的。</p>
<p>3、 <strong>执行阶段</strong> - 这里我会选择新起一个 ClaudeCode 会话，而不是在脑暴会话中进行代码实现。新会话的好处：一、原先脑暴会话已经经过多轮对话了，一般情况下上下文会比较满，新会话响应更快，并且不会“犯傻”；二、<code>implement.md</code> 足够详细，无需额外上下文</p>
<p>4、 <strong>CodeReview</strong> - 在 Zed 中进行代码审查和功能验收。关于代码审查，对于一些代码细节和实现原理，这里我会使用 zed-agent 来辅助我进行代码 review，当然，你也可以在终端新建一个 ClaudeCode 会话或者使用 Zed的 Claude Agent。<strong>原则是尽量不在脑暴和执行会话中引入太多不必要的问题，保持这两个会话的「干净」</strong>。发现问题后，将改进项写入新的需求 MD</p>
<p>5、 <strong>LOOP</strong> - 改进项 MD 喂回脑暴会话，开始下一轮脑暴迭代</p>
<p><strong>非常简单，但是效果超群。充分的前期设计可以提升 AI 的效率和质量，避免多次的来回拉扯。</strong></p>
<p>举个真实案例：我用这套工作流将个人博客从 Quarz 框架迁移到 Astro 框架。脑暴阶段确认好设计方案后，我让 Claude 执行计划，然后就去睡午觉了。醒来发现 Claude Code 已经完美完成任务——中间零中断，一次成功，共计 5000+ 行代码变更。</p>
<blockquote>
<p>完整 commit：<a href="https://github.com/Umupa/blog/commit/278232ecfc8e81542c9cc6a2d65c7e78b486c329">Umupa/blog@278232e</a></p>
</blockquote>
<h2 id="tips">TIPS</h2>
<p><strong>关于我的模型选择</strong></p>
<ul>
<li>脑暴会话使用 <strong>Opus</strong>：提升设计质量</li>
<li>执行会话使用 <strong>Sonnet / GLM</strong>：<code>implement.md</code> 已足够详细，轻量模型即可完成，节省 token</li>
<li>zed-agent：选择使用 deepseek 模型，价格非常便宜，十块钱能用一个月，并且 Chat 的质量非常不错。</li>
</ul>
<p><strong>使用 MD 进行规划</strong></p>
<p>这个理念与 <a href="https://github.com/OthmanAdi/planning-with-files">planning-with-files</a> 一致，所有的需求录入、外部资源、项目规划、技术方案等我都采用持久化的 MD 格式，而不是直接在 Claude 对话中输入，原因是：</p>
<ul>
<li>Claude 会话上下文有限，内存中容易丢失，导致 Claude 偏离目标</li>
<li>记录所有错误、失败，避免重复</li>
<li>可复用、可回顾、可版本控制</li>
</ul>
<p><strong>关于我安装的插件</strong></p>
<ul>
<li>superpowers - 必备</li>
<li>context7 - 必备</li>
<li>github</li>
<li>commit-commands</li>
</ul>
<h1 id="关于-vibecoding-的看法">关于 vibecoding 的看法</h1>
<ul>
<li>尽量使用 AI 写你熟悉的技术领域，vibecoding 一个你完全未知的技术领域是很可怕的，比如你是 Java 开发，使用 AI 写一个嵌入式的 C++ 项目，这会非常危险，因为你很难判断代码的好与坏。</li>
<li>要有明确的”spec”和”plan”，AI 也能写出优秀的代码。vibecoding 会是未来，而产品化思维、架构设计以及好的审美，将成为程序员”新的武器”。</li>
<li>你需要对 AI 生成的代码负全责。</li>
</ul>
<h1 id="推荐阅读">推荐阅读</h1>
<ul>
<li><a href="https://x.com/bcherny/status/2007179832300581177">Claude Code 核心开发者 Boris Cherny 的 CC 工作流</a></li>
<li><a href="https://xuanwo.io/series/how-i-coding/">Xuanwo 的 “How I Coding” 系列</a></li>
</ul>
<hr>
<p>写于 2026.01.11 凌晨</p>
<p>Let’s Vibe!</p>  </article> </main> <div class="giscus-wrapper" data-astro-cid-an2nl7ar> <script src="https://giscus.app/client.js" data-repo="umupa/blog" data-repo-id="R_kgDONyPU6Q" data-category="Announcements" data-category-id="DIC_kwDONyPU6c4C0UA1" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="fro" data-lang="zh-CN" crossorigin="anonymous" async></script> </div>  </body></html>